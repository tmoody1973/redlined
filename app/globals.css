@import "tailwindcss";

/* Design System Tokens */
:root {
  /* Primary palette names */
  --color-primary: red;
  --color-secondary: amber;
  --color-neutral: slate;

  /* HOLC Grade Colors */
  --holc-grade-a: #4caf50;
  --holc-grade-b: #2196f3;
  --holc-grade-c: #ffeb3b;
  --holc-grade-d: #f44336;
  --holc-ungraded: #9e9e9e;

  /* Era Colors */
  --era-pre-1938: #b87333;
  --era-1938-1970: #808080;
  --era-post-1970: #4fc3f7;

  /* Typography */
  --font-heading: var(--font-space-grotesk), system-ui, sans-serif;
  --font-body: var(--font-inter), system-ui, sans-serif;
  --font-mono: var(--font-ibm-plex-mono), monospace;

  /* Scene and App Backgrounds */
  --bg-scene: #1a1a2e;
  --bg-app: #0c0a1a;
  --bg-panel: #0f172a;
}

/* Tailwind v4 theme configuration with design system tokens */
@theme inline {
  --color-background: var(--bg-app);
  --color-foreground: #e2e8f0;
  --color-scene: var(--bg-scene);
  --color-panel: var(--bg-panel);

  --color-holc-a: var(--holc-grade-a);
  --color-holc-b: var(--holc-grade-b);
  --color-holc-c: var(--holc-grade-c);
  --color-holc-d: var(--holc-grade-d);
  --color-holc-ungraded: var(--holc-ungraded);

  --font-heading: var(--font-space-grotesk), system-ui, sans-serif;
  --font-body: var(--font-inter), system-ui, sans-serif;
  --font-mono: var(--font-ibm-plex-mono), monospace;
}

/* Dark-first: no light mode. Apply dark backgrounds globally. */
body {
  background-color: var(--bg-app);
  color: #e2e8f0;
  font-family: var(--font-body);
}

/* Utility classes for HOLC grade badge styling */
.holc-badge-a {
  background-color: rgb(76 175 80 / 0.1);
  color: #4ade80;
  border-color: rgb(76 175 80 / 0.3);
}

.holc-badge-b {
  background-color: rgb(33 150 243 / 0.1);
  color: #60a5fa;
  border-color: rgb(33 150 243 / 0.3);
}

.holc-badge-c {
  background-color: rgb(255 235 59 / 0.1);
  color: #facc15;
  border-color: rgb(255 235 59 / 0.3);
}

.holc-badge-d {
  background-color: rgb(244 67 54 / 0.1);
  color: #f87171;
  border-color: rgb(244 67 54 / 0.3);
}

.holc-badge-ungraded {
  background-color: rgb(158 158 158 / 0.1);
  color: #a1a1aa;
  border-color: rgb(158 158 158 / 0.3);
}

/* Focus ring utility for dark backgrounds: ring-2 ring-red-500 ring-offset-2 ring-offset-slate-900 */
.focus-ring {
  outline: none;
}
.focus-ring:focus-visible {
  box-shadow:
    0 0 0 2px var(--bg-app),
    0 0 0 4px #f44336;
}

/* Screen reader only utility (Tailwind v4 includes sr-only but we define
   it here for environments where Tailwind may not process the class) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Time slider range input styling */
.time-slider-range {
  -webkit-appearance: none;
  appearance: none;
  height: 6px;
  background: linear-gradient(
    to right,
    #b87333 0%,
    #b87333 19.4%,
    #cd7f32 19.4%,
    #cd7f32 43.9%,
    #f44336 43.9%,
    #f44336 44.5%,
    #808080 44.5%,
    #808080 63.2%,
    #4fc3f7 63.2%,
    #4fc3f7 100%
  );
  border-radius: 3px;
  outline: none;
  cursor: pointer;
}

.time-slider-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: white;
  border: 2px solid #f44336;
  box-shadow: 0 0 8px rgba(244, 67, 54, 0.6);
  cursor: grab;
  transition: transform 0.1s ease;
}

.time-slider-range::-webkit-slider-thumb:active {
  cursor: grabbing;
  transform: scale(1.2);
}

.time-slider-range::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: white;
  border: 2px solid #f44336;
  box-shadow: 0 0 8px rgba(244, 67, 54, 0.6);
  cursor: grab;
}

/* Collapsed timeline mini track */
.time-slider-track {
  background: linear-gradient(
    to right,
    #b87333 0%,
    #cd7f32 44%,
    #808080 63%,
    #4fc3f7 100%
  );
  border-radius: 2px;
  opacity: 0.5;
}

/* Audio waveform animation for narration indicators */
@keyframes waveform-bar {
  0% {
    height: 4px;
  }
  100% {
    height: 14px;
  }
}

/* Minimum touch target sizing for mobile interactive elements */
@media (pointer: coarse) {
  button,
  [role="button"],
  input[type="range"],
  a {
    min-height: 44px;
    min-width: 44px;
  }
}
